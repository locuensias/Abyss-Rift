<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estado del Server</title>
    <style>
        body {
            background-color: #0d1117; color: #c9d1d9;
            font-family: monospace;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; margin: 0;
        }
        .card {
            background: #161b22; border: 1px solid #30363d;
            border-radius: 10px; padding: 30px; width: 300px; text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }
        h2 { color: #58a6ff; margin-bottom: 20px; }
        
        .status-dot {
            height: 15px; width: 15px; background-color: #bbb;
            border-radius: 50%; display: inline-block; margin-right: 8px;
        }
        .on { background-color: #2ea043; box-shadow: 0 0 10px #2ea043; } /* Verde */
        .boot { background-color: #dbab09; animation: parpadeo 1s infinite; } /* Amarillo */
        .off { background-color: #da3633; } /* Rojo */

        .info { display: flex; justify-content: space-between; margin: 10px 0; border-bottom: 1px solid #333; padding-bottom: 5px; }
        
        @keyframes parpadeo { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body>
    <div class="card">
        <h2>MINECRAFT STATUS</h2>
        
        <div style="font-size: 20px; margin-bottom: 20px;">
            <span id="dot" class="status-dot off"></span>
            <span id="txt">OFFLINE</span>
        </div>

        <div class="info"><span>Jugadores:</span> <b id="jug">-</b></div>
        <div class="info"><span>Bater√≠a PC:</span> <b id="bat">-</b></div>
        <br>
        <small style="color: #666">IP PARA JUGAR: <b>201.188.96.213:25565</b></small>
    </div>

    <script>
        // TU ENLACE SEGURO DE SERVEO
        const API = "https://d7229e01a6fccb92-201-188-96-213.serveousercontent.com";

        async function loop() {
            const dot = document.getElementById('dot');
            const txt = document.getElementById('txt');
            try {
                const res = await fetch(API + "/status");
                const data = await res.json();

                document.getElementById('jug').innerText = data.jugadores;
                document.getElementById('bat').innerText = data.bateria;

                if (data.estado === "encendido") {
                    dot.className = "status-dot on"; txt.innerText = "ONLINE";
                } else if (data.estado === "encendiendo") {
                    dot.className = "status-dot boot"; txt.innerText = "INICIANDO...";
                } else {
                    dot.className = "status-dot off"; txt.innerText = "APAGADO";
                }
            } catch (e) {
                dot.className = "status-dot off"; txt.innerText = "DESCONECTADO";
            }
        }
        setInterval(loop, 3000); // Revisa cada 3 seg
        loop();
    </script>
</body>
</html>
